<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="dangPuppy">

	<!-- 댕댕이 번호 반환 -->
	<select id = "puppyNo" resultType = "int">
		select dang_puppy_seq.nextval from dual
	</select>
	
	<!-- 댕댕이 등록 -->
	<insert id = "insertPuppy" parameterType = "DangPuppyDto">
		insert into dang_puppy(puppy_no, user_no, puppy_name, puppy_gender, puppy_age) values(#{puppyNo}, #{userNo}, #{puppyName}, #{puppyGender}, #{puppyAge})
	</insert>
	
	<!-- 댕댕이 특이사항 등록 -->
	<insert id = "insertPuppyCharacter" parameterType = "map">
		insert into puppy_character(puppy_no, character_content) values(#{puppyNo}, #{characterContent})
	</insert>
	
	<!-- 댕댕이 프로필 사진 등록 -->
	<insert id = "insertPuppyImg" parameterType = "map">
		insert into puppy_img(puppy_no, attachment_no) values(#{puppyNo}, #{attachmentNo})
	</insert>
	
	<!-- 특정 회원의 댕댕이 정보 조회 -->
	<!-- 
	<select id = "selectPuppy" parameterType = "int" resultMap = "dangPuppyInfo">
	
	</select>
	<resultMap id = "dangPuppyInfo" type = "DangPuppyInfoDto">
		<association property="dangPuppyDto">
			<result column = "attachment_no" property = "attachmentNo"/>
			<result column = "attachment_no" property = "attachmentNo"/>
			<result column = "attachment_no" property = "attachmentNo"/>
			<result column = "attachment_no" property = "attachmentNo"/>
		</association>
	</resultMap>
	 -->
</mapper>